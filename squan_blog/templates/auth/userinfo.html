{% extends "base.html" %}

{% block head %}
{{ super() }}
<script type="text/javascript" src="{{ url_for('static', filename='lib/js/echarts.min.js') }}"></script>
{% endblock %}
{% block title %}初度·{{ current_user.username }}{% endblock %}

{% block page_content %}
{% if current_user.username != user.username %}
<script type="text/javascript">
	alert('不起刀兵,不染浮尘.惟贤惟德,能服于人.\n暂时不支持查看别人的个人信息.');
	window.history.go(-1);
</script>
{% endif %}
<div class="page-header">
	{% if current_user.prefix == True %}
    	<h4>Hola! [{{ quiz.quiz_rec }}]{{ current_user.username }}</h4>
    {% else %}
    	<h4>Hola! {{ current_user.username }}</h4>
    {% endif %}
    <p>birthdate: {{ current_user.birthdate }}</p>
    <p>{{ current_user.intr }}</p>
</div>
<div class="article" id="quizChart" style="width: 500px; height: 500px;">
	init charts.
</div>
<script type="text/javascript">
	var myChart = echarts.init(document.getElementById('quizChart'), 'macarons');
	var dataQuiz = [
	    [
	    	{{ quiz.r_score }},
	    	{{ quiz.a_score }},
	    	{{ quiz.b_score }},
	    	{{ quiz.m_score }},
	    	{{ quiz.w_score }},
	    	{{ quiz.s_score }},
	    	{{ quiz.u_score }},
	    	{{ quiz.g_score }},
	    ]
	];

	var lineStyle = {
	    normal: {
	        width: 1,
	        opacity: 0.5
	    }
	};

	option = {
	    backgroundColor: 'rgba(0,0,0,0)',
	    tooltip: {
	    	trigger: 'axis'
	    },
	    radar: {
	        indicator: [
	            {name: 'R', max: 10},
	            {name: 'A', max: 10},
	            {name: 'B', max: 10},
	            {name: 'M', max: 10},
	            {name: 'W', max: 10},
	            {name: 'S', max: 10},
	            {name: 'U', max: 10},
	            {name: 'G', max: 10},
	        ],
	        shape: 'circle',
	        splitNumber: 7,
	        name: {
	            textStyle: {
	                color: 'rgb(100, 100, 100)'
	            }
	        },
	        splitLine: {
	            lineStyle: {
	                color: [
	                    'rgba(100, 100, 100, 0.05)', 
	                    'rgba(100, 100, 100, 0.10)',
	                    'rgba(100, 100, 100, 0.15)', 
	                    'rgba(100, 100, 100, 0.20)',
	                    'rgba(100, 100, 100, 0.25)', 
	                    'rgba(100, 100, 100, 0.30)',
	                    'rgba(100, 100, 100, 0.35)', 
	                    'rgba(100, 100, 100, 0.40)'
	                ].reverse()
	            }
	        },
	        splitArea: {
	            show: false
	        },
	        axisLine: {
	            lineStyle: {
	                color: 'rgba(200, 200, 200, 0.7)'
	            }
	        }
	    },
	    series: [
	        {
	            name: '并没有任何用处的测试结果',
	            type: 'radar',
	            tooltip: {
                	trigger: 'item'
            	},
	            lineStyle: lineStyle,
	            data: dataQuiz,
	            symbol: 'none',
	            itemStyle: {
	                normal: {
	                    color: 'rgba(0, 0, 0, 1)'
	                }
	            },
	            areaStyle: {
	                normal: {
	                    opacity: 0.1
	                }
	            }
	        }
	    ]
	};
	myChart.setOption(option);
</script>
{% endblock %}
